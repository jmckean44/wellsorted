---
import BaseLayout from '../layouts/BaseLayout.astro';
import '../styles/form.scss';
import '../styles/swiper-hor.scss';
import { Image } from 'astro:assets';
import files1 from '../img/files-1.webp';
import call from '../img/discovery-call.webp';
---

<BaseLayout
	title="Well Sorted"
	description="Well Sorted is a local, trusted digital document and file organization support service for individuals and small businesses"
	keywords="digital document organization, file organization, photo organization, account management, password help, subscription cleanup, digital safety, small business support, personal admin help, Well Sorted">
	<section id="about" class="section is-spaced enable-trig">
		<div class="container">
			<div class="columns is-vcentered">
				<div class="column is-8">
					<p class="eyebrow">LOCAL • TRUSTED • RELIABLE</p>
					<h1>
						<strong class="highlight">Well Sorted</strong> is a local, trusted, digital document and file organization support service for individuals and small businesses.
					</h1>
					<p class="subtitle is-4">
						<strong>Practical help for people and small businesses who feel overwhelmed by the growing number of digital files, photos, and account management security.</strong>
					</p>
				</div>
				<div class="column is-4">
					<div id="animation" class="animation">
						<svg viewBox="0 0 520 360" role="img" aria-label="Magnifying glass scanning documents">
							<defs>
								<clipPath id="doc-clip-1">
									<rect x="60" y="60" width="160" height="200" rx="6"></rect>
								</clipPath>
								<clipPath id="doc-clip-2">
									<rect x="190" y="90" width="170" height="210" rx="6"></rect>
								</clipPath>
								<clipPath id="doc-clip-3">
									<rect x="320" y="70" width="150" height="220" rx="6"></rect>
								</clipPath>
							</defs>

							<g class="doc-group" clip-path="url(#doc-clip-1)">
								<rect class="doc doc-1" x="60" y="60" width="160" height="200" rx="3"></rect>
								<rect class="doc-line" x="85" y="104" width="110" height="4" rx="2"></rect>
								<rect class="doc-line" x="85" y="122" width="90" height="4" rx="2"></rect>
								<rect class="doc-line" x="85" y="140" width="120" height="4" rx="2"></rect>
							</g>

							<g class="doc-group" clip-path="url(#doc-clip-2)">
								<rect class="doc doc-2" x="190" y="90" width="170" height="210" rx="3"></rect>
								<rect class="doc-line" x="220" y="142" width="110" height="4" rx="2"></rect>
								<rect class="doc-line" x="220" y="160" width="90" height="4" rx="2"></rect>
								<rect class="doc-line" x="220" y="178" width="120" height="4" rx="2"></rect>
							</g>

							<g class="doc-group" clip-path="url(#doc-clip-3)">
								<rect class="doc doc-3" x="320" y="70" width="150" height="220" rx="3"></rect>
								<rect class="doc-line" x="350" y="124" width="100" height="4" rx="2"></rect>
								<rect class="doc-line" x="350" y="142" width="90" height="4" rx="2"></rect>
								<rect class="doc-line" x="350" y="160" width="110" height="4" rx="2"></rect>
							</g>

							<g class="magnifier">
								<circle class="lens" cx="120" cy="85" r="34"></circle>
								<rect class="handle" x="113" y="120" width="14" height="72" rx="7"></rect>
							</g>
						</svg>
					</div>
				</div>
			</div>
		</div>
		<!-- 
		<div class="container">
			<div class="columns">
				<div class="column is-5">
					<h1 class="title is-2">About Well Sorted</h1>
					<p class="subtitle is-5">A small team with a big impact.</p>
				</div>
				<div class="column">
					<p>We specialize in keeping operations steady, communicating clearly, and taking ownership of every request. You get dedicated service, clear timelines, and honest answers.</p>
					<div class="columns mt-5">
						<div class="column">
							<p class="title is-4">12+</p>
							<p class="is-size-6">Years supporting local teams</p>
						</div>
						<div class="column">
							<p class="title is-4">24/7</p>
							<p class="is-size-6">Critical response coverage</p>
						</div>
						<div class="column">
							<p class="title is-4">100%</p>
							<p class="is-size-6">Transparent reporting</p>
						</div>
					</div>
				</div>
			</div>
		</div> -->
	</section>

	<section id="intro" class="section is-spaced enable-trig">
		<div class="container">
			<div class="columns is-vcentered">
				<div class="column is-12">
					<p class="eyebrow">LOCAL • TRUSTED • RELIABLE</p>
					<h2>Digital <strong class="highlight">Facts</strong>:</h2>
					<h3>Digital clutter adds up fast.</h3>
					<p class="subtitle is-4">Most people juggle a lifetime of digital files and information across:</p>

					<p class="subtitle is-4">
						<strong>As of 2025–2026, the average person has between 1,600 and 3,000 photos stored on their smartphone, with Millennials holding the highest average at over 2,500. </strong>
					</p>

					<ul>
						<li>devices</li>
						<li>cloud services</li>
						<li>old drives</li>
						<li>forgotten folders</li>
						<li>email attachments</li>
						<li>duplicate photo libraries</li>
						<li>scattered downloads</li>
					</ul>

					<p class="subtitle is-4">If this sounds familiar:</p>

					<ul>
						<li>You know a file exists, but can’t remember where</li>
						<li>Your folders have grown without a clear structure</li>
						<li>Photos and documents are duplicated or buried</li>
						<li>You worry about “messing something up” if you reorganize</li>
						<li>You’ve tried to clean things up before, but the system didn’t last</li>
						<li>You want everything to finally have a place that makes sense</li>
					</ul>

					<p>
						You’re not alone.<br />
						Most people were never taught how to organize a lifetime of digital information.
					</p>

					<div id="counter">
						<div><p>Average Number of Photos on Phones</p><h4>2,300</h4></div>
						<div><p>Average Number of Photos on Computers</p><h4>2,300</h4></div>
						<div><p>Average Number of Cloud Accounts</p><h4>2,300</h4></div>
						<div><p>Average Number of Photos on Computers</p><h4>2,300</h4></div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<div class="buttons-container">
		<div class="buttons">
			<a class="button is-link is-medium" href="#contact">Schedule a Call</a>
			<a class="button is-dark is-medium" href="#services">View services</a>
		</div>
	</div>

	<section id="services" class="section is-spaced enable-trig">
		<div class="container">
			<div class="columns">
				<div class="column">
					<h2>What I do:</h2>
					<p class="subtitle is-5">I help people and small businesses get their digital information well sorted—clear, usable, and easy to maintain.</p>

					<padding-x class="subtitle is-5">I can help with:</padding-x>
					<ul>
						<li>File and folder organization</li>
						<li>Cloud storage cleanup (Google Drive, OneDrive, Dropbox, etc.)</li>
						<li>Photo library cleanup and de-duplication</li>
						<li>Setting up simple, logical folder structures</li>
						<li>Naming conventions that stay consistent</li>
						<li>Reviewing digital decisions and offering calm, unbiased guidance</li>
					</ul>

					<p>No tech speak.</p>
					<p>No judgment.</p>
					<p>Just steady, practical organization.</p>

					<ul>
						<li>Short intro call Agree on scope Organize together or remotely Simple documentation delivered</li>
						<li>Organizing files, photos, and accounts</li>
						<li>Passwords, recovery plans, and digital safety</li>
						<li>Subscription and account cleanups</li>
						<li>Reviewing quotes, plans, or big decisions</li>
						<li>Translating confusing information into plain language</li>
					</ul>
				</div>
			</div>

			<div class="columns is-vcentered">
				<div class="column">
					<div class="columns is-multiline">
						<div class="column is-4">
							<div class="box">
								<p class="title is-5">Managed Support</p>
								<p>Proactive monitoring and rapid response for critical needs.</p>
							</div>
						</div>
						<div class="column is-4">
							<div class="box">
								<p class="title is-5">On-Site Visits</p>
								<p>Scheduled maintenance and in-person help when it matters.</p>
							</div>
						</div>
						<div class="column is-4">
							<div class="box">
								<p class="title is-5">Project Delivery</p>
								<p>Plan, build, and launch upgrades on time and on budget.</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<div class="buttons-container">
		<div class="buttons">
			<a class="button is-link is-medium" href="#contact">Schedule a Call</a>
			<a class="button is-dark is-medium" href="#services">View services</a>
		</div>
	</div>

	<section id="search-anim" class="section is-spaced search-anim-section enable-trig">
		<div class="container">
			<div class="columns is-vcentered">
				<div class="column is-6">
					<p class="eyebrow">DOCUMENT SEARCH</p>
					<h2>Find what matters faster</h2>
					<p class="subtitle is-5">A magnifying glass scans across your documents twice when this section enters view.</p>
				</div>
				<div class="column is-6">
					<div class="search-anim" data-animate-on-view>
						<svg viewBox="0 0 480 360" role="img" aria-label="Magnifying glass scanning a document">
							<rect class="doc" x="70" y="40" width="260" height="280" rx="20"></rect>
							<rect class="doc-line" x="110" y="90" width="180" height="14" rx="7"></rect>
							<rect class="doc-line" x="110" y="125" width="140" height="12" rx="6"></rect>
							<rect class="doc-line" x="110" y="155" width="170" height="12" rx="6"></rect>
							<rect class="doc-line" x="110" y="185" width="150" height="12" rx="6"></rect>
							<rect class="doc-line" x="110" y="215" width="190" height="12" rx="6"></rect>
							<rect class="doc-line" x="110" y="245" width="120" height="12" rx="6"></rect>
							<g class="magnifier">
								<circle class="lens" cx="340" cy="120" r="44"></circle>
								<circle class="lens-inner" cx="340" cy="120" r="30"></circle>
								<rect class="handle" x="372" y="150" width="80" height="16" rx="8" transform="rotate(35 372 150)"></rect>
							</g>
						</svg>
					</div>
				</div>
			</div>
		</div>
	</section>

	<div class="buttons-container">
		<div class="buttons">
			<a class="button is-link is-medium" href="#contact">Schedule a Call</a>
			<a class="button is-dark is-medium" href="#services">View services</a>
		</div>
	</div>

	<section id="purpose" class="section is-spaced purpose-section enable-trig">
		<div class="container">
			<div class="columns is-vcentered is-variable is-8">
				<div class="column is-6">
					<p class="eyebrow">Our Purpose</p>
					<h2 class="title is-2">How it works</h2>
					<p>
						Our goal is to help brands unlock their full digital potential by creating impactful marketing strategies that connect, engage, and convert. We believe growth happens when creativity meets
						data and purpose.
					</p>
					<p>Every campaign we launch is built to deliver measurable results and long-term value — combining strategic insights, automation, and human creativity for real impact.</p>
					<div class="purpose-list">
						<div class="purpose-item">
							<div class="purpose-icon">1</div>
							<div>
								<p class="has-text-weight-semibold">Free 20-minute clarity call</p>
								<p>A relaxed conversation about what feels disorganized and what result you’d like.</p>
							</div>
						</div>
						<div class="purpose-item">
							<div class="purpose-icon">2</div>
							<div>
								<p class="has-text-weight-semibold">Define the scope</p>
								<p>We decide together what needs attention and how hands-on you want me to be.</p>
							</div>
						</div>
						<div class="purpose-item">
							<div class="purpose-icon">3</div>
							<div>
								<p class="has-text-weight-semibold">Get everything well sorted</p>
								<p>We work together—or through secure remote sessions—to organize, simplify, and structure your digital world.</p>
							</div>
						</div>
						<div class="purpose-item">
							<div class="purpose-icon">4</div>
							<div>
								<p class="has-text-weight-semibold">Clear, simple handover</p>
								<p>You receive a clean, easy-to-navigate system and a short guide that explains where everything belongs.</p>
							</div>
						</div>
					</div>
				</div>
				<div class="column is-6">
					<Image src={call} class="bdr-radius" alt="Discovery call illustration" />
				</div>
			</div>
			<div class="purpose-process">
				<h3 class="title is-4 has-text-centered">Our Simple <span class="has-text-success">4-Step</span> Process</h3>
				<div class="process-track"></div>
				<div class="columns is-mobile is-centered process-steps">
					<div class="column process-step">
						<div class="step-circle">1</div>
						<p class="has-text-weight-semibold">Discovery Call</p>
						<p class="is-size-7">We learn about your business, goals, and challenges in a free consultation.</p>
					</div>
					<div class="column process-step">
						<div class="step-circle">2</div>
						<p class="has-text-weight-semibold">Strategy Development</p>
						<p class="is-size-7">Our team creates a custom marketing strategy tailored to your objectives.</p>
					</div>
					<div class="column process-step">
						<div class="step-circle">3</div>
						<p class="has-text-weight-semibold">Launch & Execute</p>
						<p class="is-size-7">We implement your campaigns and start driving results within 7 days.</p>
					</div>
					<div class="column process-step">
						<div class="step-circle">4</div>
						<p class="has-text-weight-semibold">Optimize & Scale</p>
						<p class="is-size-7">Continuous testing and optimization to maximize your ROI and growth.</p>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section id="testimonials" class="section is-spaced enable-trig">
		<div class="container">
			<h2 class="title is-2">What People Are Saying</h2>
			<div class="swiper">
				<div class="swiper-wrapper">
					<div class="swiper-slide">
						<p>
							“Our goal is to help brands unlock their full digital potential by creating impactful marketing strategies that connect, engage, and convert. We believe growth happens when creativity
							meets data and purpose.”
						</p>
						<p class="title">Dave, President</p>
					</div>
					<div class="swiper-slide">
						<p>
							“Our goal is to help brands unlock their full digital potential by creating impactful marketing strategies that connect, engage, and convert. We believe growth happens when creativity
							meets data and purpose.”
						</p>
						<p class="title">Dave, President</p>
					</div>
					<div class="swiper-slide">
						<p>
							“Our goal is to help brands unlock their full digital potential by creating impactful marketing strategies that connect, engage, and convert. We believe growth happens when creativity
							meets data and purpose.”
						</p>
						<p class="title">Dave, President</p>
					</div>
				</div>
				<div class="swiper-pagination"></div>
			</div>
		</div>
	</section>

	<section id="contact" class="section is-spaced has-background-link-light enable-trig">
		<div class="container">
			<div class="columns is-vcentered">
				<div class="column is-6">
					<h2 class="title is-2">Let’s talk</h2>
					<p class="subtitle is-5">Tell us what you need and we’ll respond within 15 minutes.</p>
				</div>
				<div class="column is-5 is-offset-1">
					<form action="https://api.web3forms.com/submit" method="POST">
						<input type="hidden" name="access_key" value="fadd83ed-0e02-49c4-b043-8171619b1c2e" />
						<input type="text" name="name" required />
						<input type="email" name="email" required />
						<textarea name="message" required></textarea>
						<button type="submit" class="btn">Submit Form</button>
					</form>
				</div>
			</div>
		</div>
	</section>

	<script is:inline>
		// Main form logic with comments for clarity
		document.addEventListener('astro:page-load', () => {
			const form = document.getElementById('form');
			const result = document.getElementById('result');

			// Helper: Check if form is valid using native HTML validation
			function isFormValid(form) {
				form.classList.add('was-validated');
				return form.checkValidity();
			}

			// Helper: Check if hCaptcha is completed
			function isCaptchaCompleted(form) {
				const hCaptchaInput = form.querySelector('textarea[name=h-captcha-response]');
				return hCaptchaInput && hCaptchaInput.value;
			}

			// Helper: Submit form data via fetch
			async function submitForm(form, result) {
				const formData = new FormData(form);
				const object = Object.fromEntries(formData);
				const json = JSON.stringify(object);

				result.innerHTML = 'Sending...';
				try {
					const response = await fetch('https://api.web3forms.com/submit', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json',
							Accept: 'application/json',
						},
						body: json,
					});
					const data = await response.json();
					result.innerHTML = data.message;
				} catch (error) {
					result.innerHTML = 'Something went wrong!';
				}
				form.reset();
				form.classList.remove('was-validated');
				setTimeout(() => {
					result.style.display = 'none';
				}, 5000);
			}

			// Main submit event handler
			form.addEventListener('submit', function (e) {
				e.preventDefault();

				// 1. Validate form fields
				if (!isFormValid(form)) {
					form.querySelectorAll(':invalid')[0].focus();
					return;
				}

				// 2. Validate hCaptcha
				if (!isCaptchaCompleted(form)) {
					result.innerHTML = 'Please complete the captcha.';
					result.style.color = '#dc3545';
					return;
				}

				// 3. Submit form if all validations pass
				submitForm(form, result);
			});
		});
	</script>
	<script is:inline>
		const formCaptcha = document.getElementById('form');

		formCaptcha.addEventListener('submit', function (e) {
			const hCaptcha = formCaptcha.querySelector('textarea[name=h-captcha-response]').value;

			if (!hCaptcha) {
				e.preventDefault();
				result.innerHTML = 'Please complete the captcha.';
				return;
			}
		});
	</script>
	<script is:inline src="https://web3forms.com/client/script.js" async defer></script>

	<script src="../scripts/swiper-horizontal.jsx"></script>

	<script is:inline>
		document.addEventListener('DOMContentLoaded', () => {
			document.querySelectorAll('.show-more-btn').forEach((btn) => {
				btn.addEventListener('click', () => {
					const slide = btn.closest('.swiper-slide');
					const fullText = btn.previousElementSibling.querySelector('.testimonial-full');

					// Close all other open testimonial-full elements first
					document.querySelectorAll('.testimonial-full').forEach((otherFullText) => {
						if (otherFullText !== fullText && otherFullText.style.display === 'inline') {
							otherFullText.style.display = 'none';
							// Find and update the corresponding button text
							const otherSlide = otherFullText.closest('.swiper-slide');
							const otherBtn = otherSlide.querySelector('.show-more-btn');
							if (otherBtn) {
								otherBtn.textContent = 'Show More';
							}
							// Reset other slide height
							otherSlide.style.height = '';
						}
					});

					// Toggle current testimonial
					if (fullText.style.display === 'none') {
						fullText.style.display = 'inline';
						btn.textContent = 'Show Less';
						slide.style.height = 'auto';
					} else {
						fullText.style.display = 'none';
						btn.textContent = 'Show More';
						slide.style.height = '';
					}

					const swiperContainer = slide.closest('.swiper');
					if (swiperContainer && swiperContainer.swiper) {
						setTimeout(() => {
							// Check if methods exist before calling
							if (typeof swiperContainer.swiper.updateAutoHeight === 'function') {
								swiperContainer.swiper.updateAutoHeight();
							}
							if (typeof swiperContainer.swiper.update === 'function') {
								swiperContainer.swiper.update();
							}
						}, 100);
					}
				});
			});
		});
	</script>
	<script is:inline>
		const animTargets = document.querySelectorAll('[data-animate-on-view]');
		if (animTargets.length) {
			const animObserver = new IntersectionObserver(
				(entries, obs) => {
					entries.forEach((entry) => {
						if (!entry.isIntersecting) return;
						const target = entry.target;
						if (target.dataset.animated === 'true') return;
						target.dataset.animated = 'true';
						target.classList.add('is-animating');
						obs.unobserve(target);
					});
				},
				{ threshold: 0.5 },
			);
			animTargets.forEach((target) => animObserver.observe(target));
		}
	</script>

	<script is:inline>
		document.addEventListener('DOMContentLoaded', () => {
			const counterSection = document.getElementById('counter');
			let animated = false;

			function animateCounters() {
				document.querySelectorAll('#counter h4').forEach((el) => {
					const targetText = el.textContent.replace(/[^0-9+]/g, '');
					const target = parseInt(targetText.replace(/\+/g, ''), 10);
					if (isNaN(target)) return;

					const original = el.innerHTML; // Save original for final format
					const duration = 4000;
					const startTime = performance.now();

					function animate(now) {
						const progress = Math.min((now - startTime) / duration, 1);
						const value = Math.floor(progress * target);
						el.textContent = value.toLocaleString() + (targetText.includes('+') ? '+' : '');
						if (progress < 1) {
							requestAnimationFrame(animate);
						} else {
							el.innerHTML = original; // Restore original format (with <sup> etc.)
						}
					}
					requestAnimationFrame(animate);
				});
			}

			const observer = new IntersectionObserver(
				(entries) => {
					entries.forEach((entry) => {
						if (entry.isIntersecting && !animated) {
							animateCounters();
							animated = true;
							observer.disconnect();
						}
					});
				},
				{ threshold: 0.3 },
			);

			if (counterSection) observer.observe(counterSection);
		});
	</script>
</BaseLayout>
